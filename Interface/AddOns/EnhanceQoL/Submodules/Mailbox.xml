<Ui xmlns="http://www.blizzard.com/wow/ui/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

    <!-- Hoverable row template for mailbox list -->
    <Button name="EQOLMailboxRowTemplate" virtual="true">
        <!-- Effective content width equals frame width (260) - left margin (10) - scrollbar (28) = 222 -->
        <Size x="222" y="20"/>
        <Scripts>
            <OnLoad>
                self:SetHighlightTexture("Interface\\QuestFrame\\UI-QuestTitleHighlight");
                self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
            </OnLoad>
            <OnClick>
                self:OnClick(button)
            </OnClick>
        </Scripts>
    </Button>

    <!-- Panel with header + close button, anchored to the right of the MailFrame -->
    <Frame name="EQOLMailboxFrame" inherits="BasicFrameTemplateWithInset" parent="MailFrame" hidden="true" clampedToScreen="true" enableMouse="true">
        <Size x="260" y="430"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="6" y="0"/>
        </Anchors>
        <Scripts>
            <OnLoad>EQOLMailboxFrame_OnLoad(self);</OnLoad>
            <OnShow>if EQOLMailboxFrame_OnShow then EQOLMailboxFrame_OnShow(self); end</OnShow>
            <OnMouseDown>
                if self:IsMovable() then self:StartMoving(); end
                EQOLMailboxFrameSearchBox:ClearFocus();
            </OnMouseDown>
            <OnMouseUp>
                self:StopMovingOrSizing();
            </OnMouseUp>
        </Scripts>
        <Frames>
            <EditBox name="$parentSearchBox" inherits="InputBoxTemplate, AutoCompleteEditBoxTemplate">
                <Size x="150" y="20"/>
                <Anchors>
                    <Anchor point="TOPRIGHT" x="-40" y="-33"/>
                </Anchors>
                <Scripts>
                    <OnLoad>self:SetAutoFocus(false);</OnLoad>
                    <OnEscapePressed>self:ClearFocus();</OnEscapePressed>
                </Scripts>
            </EditBox>
            <Frame name="$parentHeader" inherits="BackdropTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" x="10" y="-58"/>
                    <Anchor point="TOPRIGHT" x="-28" y="-58"/>
                </Anchors>
                <Frames>
                    <Button name="$parentCol1" inherits="WhoFrameColumnHeaderTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT"/>
                        </Anchors>
                    </Button>
                    <Button name="$parentCol2" inherits="WhoFrameColumnHeaderTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentCol1" relativePoint="TOPRIGHT"/>
                        </Anchors>
                    </Button>
                    <!-- 2 columns only: name + server -->
                </Frames>
                <Size x="222" y="20"/>
            </Frame>
            <ScrollFrame name="$parentScrollFrame" inherits="HybridScrollFrameTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parentHeader" relativePoint="BOTTOMLEFT" x="0" y="-2"/>
                    <Anchor point="TOPRIGHT" relativeTo="$parentHeader" relativePoint="BOTTOMRIGHT" x="0" y="-2"/>
                    <Anchor point="BOTTOMLEFT" x="10" y="10"/>
                    <Anchor point="BOTTOMRIGHT" x="-30" y="10"/>
                </Anchors>
                <Frames>
                    <Slider name="$parentScrollBar" inherits="HybridScrollBarTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT" x="0" y="-16"/>
                            <Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="BOTTOMRIGHT" x="0" y="16"/>
                        </Anchors>
                    </Slider>
                    <Frame name="$parentScrollChild">
                        <Anchors>
                            <Anchor point="TOPLEFT"/>
                        </Anchors>
                    </Frame>
                </Frames>
            </ScrollFrame>
        </Frames>
    </Frame>
</Ui>
