<Ui xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">
    <!-- 顺序：配置 → 布局管理器 → 样式器/重挂（BlizzardGraft）→ 自建 HoverHUD。 -->
    <Script file="Housing_Config.lua"/>
    <Script file="Housing_LayoutManager.lua"/>
    <!-- 界面风格控制器：管理现代/传统界面切换 -->
    <Script file="Housing_InterfaceStyle.lua"/>
    <Script file="Housing_BlizzardGraft.lua"/>
    <Script file="Housing_UIVisibilityEye.lua"/>
    <Script file="Housing_Favorites.lua"/>
    <Script file="Housing_Tags.lua"/>
    <Script file="Housing_HoverHUD.lua"/>
    <!-- 室外解禁：补回室内-only的仓库条目，灰态可点（点击改道为 recordID 抓取） -->
    <Script file="Housing_IndoorBypass.lua"/>
    <!-- 专家模式：保持 StoragePanel 不被隐藏 -->
    <Script file="Housing_StoragePanelExpert.lua"/>
    <Script file="Housing_BatchPlace.lua"/>
    <!-- 批量摧毁指定数量装饰 -->
    <Script file="Housing_BatchDestroy.lua"/>

    <Script file="Housing_IncrementRotate.lua"/>
    <Script file="Housing_KeyRotate.lua"/>
    <Script file="Housing_Recent.lua"/>
    <Script file="Housing_VisitAssistant.lua"/>
    <!-- 自建“装饰物浏览器”弹窗已下线：仅搬运官方清单按钮与面板尺寸，
         遵循单一权威与 KISS，不再额外创建窗口。 -->
    <Script file="Housing_ClipboardCore.lua"/>
    <!-- 导出/导入：装饰清单分享 -->
    <Script file="Housing_ExportImport.lua"/>
    <!-- 快捷栏：Z-M 键位快速放置 -->
    <Script file="Housing_Quickbar.lua"/>
    <Script file="Housing_QuickbarUI.lua"/>
    <!-- 悬停信息面板：显示在 QuickBar 顶部 -->
    <Script file="Housing_HoverInfoPanel.lua"/>
    <Script file="Housing_RecentSlot.lua"/>
    <!-- 染料复制粘贴模块：自定义模式下 CTRL+C/V -->
    <Script file="Housing_DyeClipboard.lua"/>

    <!-- 专家模式：快速选轴（X/Y/Z）-->
    <Script file="Housing_AxisSelect.lua"/>
    <!-- 专家模式操控器缩放：CVar 组统一控制 -->
    <Script file="Housing_ExpertGizmoScale.lua"/>
    <!-- 专家模式操控器追踪：彩色调试日志 -->
    <Script file="Housing_ManipulatorTrace.lua"/>
    <!-- 模式栏重排：移动到右下角垂直布局 -->
    <Script file="Housing_ModeBarRelocate.lua"/>
    <!-- 移除临时板弹窗（已整合到 Dock 分类 Clipboard） -->

    <!-- 指示条模板（使用 ADT_ 前缀避免冲突） -->
    <!-- 关键：继承 HorizontalLayoutFrame，让行具备 Layout 能力，与官方行同语义 -->
    <Frame name="ADT_HouseEditorInstructionTemplate" inherits="HorizontalLayoutFrame" virtual="true">
        <KeyValues>
            <KeyValue key="minimumHeight" value="45" type="number"/>
            <KeyValue key="spacing" value="10" type="number"/>
            <!-- 行在父容器中的水平对齐：贴左，与官方保持一致 -->
            <KeyValue key="align" value="left" type="string"/>
        </KeyValues>
        <Size x="45" y="45"/>
        <Layers>
            <Layer level="ARTWORK">
                <!-- 与官方 HouseEditorInstructionTemplate 保持一致的基准字体（再由样式缩放）。
                     注意：不再绑定固定锚点，交由 HorizontalLayout 布局；默认左对齐。 -->
                <FontString parentKey="InstructionText" inherits="GameFontHighlightLarge" justifyH="LEFT" wordwrap="false">
                    <KeyValues>
                        <KeyValue key="expand" value="true" type="boolean"/>
                        <KeyValue key="layoutIndex" value="1" type="number"/>
                    </KeyValues>
                    <Size x="0" y="0"/>
                </FontString>
                <FontString parentKey="ItemCountText" inherits="GameFontHighlight" justifyH="CENTER">
                    <Size x="0" y="0"/>
                    <Anchors>
                        <Anchor point="BOTTOM" relativeKey="$parent.InstructionText" relativePoint="TOPRIGHT" x="2" y="2"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <Frame parentKey="Control">
                <KeyValues>
                    <KeyValue key="layoutIndex" value="2" type="number"/>
                </KeyValues>
                <Size x="45" y="45"/>
                <Anchors>
                    <Anchor point="RIGHT" x="0"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture parentKey="Background" useAtlasSize="false" atlas="housing-hotkey-icon-key-9slice" texelSnappingBias="0.0" snapToPixelGrid="false" hidden="true">
                            <!-- 与官方模板一致的默认高度（我们会在运行时用 CFG 覆盖） -->
                            <Size x="54" y="40"/>
                            <Anchors>
                                <Anchor point="RIGHT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                    </Layer>
                    <Layer level="ARTWORK">
                        <Texture parentKey="Icon" useAtlasSize="false">
                            <Size x="32" y="32"/>
                            <Anchors>
                                <Anchor point="RIGHT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                        <!-- 与官方模板一致的“键帽文本”基准字体（Number16Font） -->
                        <FontString parentKey="Text" inherits="Number16Font" hidden="true">
                            <Size x="0" y="0"/>
                            <Anchors>
                                <Anchor point="CENTER" relativeKey="$parent.Background"/>
                            </Anchors>
                            <Color color="HIGHLIGHT_FONT_COLOR"/>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
        </Frames>
    </Frame>
</Ui>
